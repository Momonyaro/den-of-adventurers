[gd_scene load_steps=13 format=3 uid="uid://f64ofd2jr8sn"]

[ext_resource type="Script" path="res://Scripts/Data/DataContainer.gd" id="1_8246l"]
[ext_resource type="Script" path="res://Scripts/Data/TimerContainer.gd" id="2_dls8v"]
[ext_resource type="Script" path="res://Scripts/Managers/AdventurerManager.gd" id="3_q8kab"]
[ext_resource type="Script" path="res://Scripts/Test/AgentTest.gd" id="4_bbaja"]
[ext_resource type="PackedScene" uid="uid://78qqxoqecl1p" path="res://Models/little_guy.glb" id="4_mij7i"]

[sub_resource type="Environment" id="Environment_wun1a"]
background_mode = 1
background_color = Color(0.505882, 0.807843, 0.509804, 1)
ambient_light_source = 2
ambient_light_color = Color(0.290196, 0.337255, 0.439216, 1)
ambient_light_energy = 0.86
tonemap_white = 1.74

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ki8gd"]
radius = 0.430438
height = 0.972774

[sub_resource type="NavigationMesh" id="NavigationMesh_av4e2"]
vertices = PackedVector3Array(-9.5, 0.0199995, -1, -3, 0.0199995, -1, -3, 0.0199995, -2, -3, 0.0199995, -2, -1.75, 0.0199995, -2.25, -1.75, 0.0199995, -9.5, -9.5, 0.0199995, -9.5, -9.5, 0.0199995, -1, -0.75, 0.0199995, -0.5, 0.75, 0.0199995, 0.5, 1.5, 0.0199995, -0.25, -0.75, 0.0199995, -2, -0.75, 0.0199995, -0.5, 1.5, 0.0199995, -0.25, 2.5, 0.0199995, -0.25, -1.75, 0.0199995, -9.5, -0.75, 0.0199995, -2, 2.5, 0.0199995, -0.25, 9.5, 0.0199995, 1, 9.5, 0.0199995, -9.5, 2.5, 0.0199995, -0.25, 3.25, 0.0199995, 1, 9.5, 0.0199995, 1, -1.75, 0.0199995, -9.5, -1.75, 0.0199995, -2.25, -0.75, 0.0199995, -2, 0.75, 0.0199995, 0.5, -0.75, 0.0199995, -0.5, -1, 0.0199995, 0, 0.75, 0.0199995, 1.75, 0.75, 0.0199995, 0.5, -1, 0.0199995, 0, -2.75, 0.0199995, 0, -2.75, 0.0199995, 0, -3, 0.0199995, -1, -9.5, 0.0199995, -1, 2, 0.0199995, 2.5, 0.75, 0.0199995, 1.75, -2.75, 0.0199995, 0, -9.5, 0.0199995, -1, -9.5, 0.0199995, 9.5, 2, 0.0199995, 9.5, 9.5, 0.0199995, 1, 3.25, 0.0199995, 1, 3.25, 0.0199995, 1.75, 9.5, 0.0199995, 1, 3.25, 0.0199995, 1.75, 2, 0.0199995, 2.5, 2, 0.0199995, 9.5, 9.5, 0.0199995, 9.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(3, 7, 4), PackedInt32Array(4, 7, 5), PackedInt32Array(5, 7, 6), PackedInt32Array(10, 9, 8), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 11), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(18, 15, 19), PackedInt32Array(22, 21, 20), PackedInt32Array(25, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 32), PackedInt32Array(35, 34, 33), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 41), PackedInt32Array(38, 41, 39), PackedInt32Array(39, 41, 40), PackedInt32Array(44, 43, 42), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 48), PackedInt32Array(48, 45, 49)]
cell_height = 0.01
agent_height = 0.0

[sub_resource type="PlaneMesh" id="PlaneMesh_wambb"]

[sub_resource type="BoxMesh" id="BoxMesh_0jipx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8m8ew"]
albedo_color = Color(0.27451, 0.27451, 0.27451, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jqbs5"]
albedo_color = Color(0.313726, 0.313726, 0.313726, 1)

[node name="Root" type="Node3D"]
script = ExtResource("1_8246l")

[node name="Timers" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("2_dls8v")

[node name="Adventurers" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("3_q8kab")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.752082, -0.437961, 0.492507, 1.49012e-08, 0.747276, 0.664513, -0.65907, -0.499768, 0.562013, 3.18393, 4.02101, 3.68818)
environment = SubResource("Environment_wun1a")
current = true
fov = 70.8
size = 3.65732

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.73392, -2.18725e-08, -0.679236, 0.63007, 0.373538, 0.680795, 0.253721, -0.927615, 0.274147, 0, 3.7599, 1.23124)
light_color = Color(0.682353, 0.768627, 0.968627, 1)
shadow_enabled = true
shadow_bias = 0.056
shadow_normal_bias = 2.531
shadow_transmittance_bias = -9.72
shadow_opacity = 0.6
shadow_blur = 2.15

[node name="Agent" type="CharacterBody3D" parent="."]
script = ExtResource("4_bbaja")
move_speed = 2.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Agent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.528857, 0)
shape = SubResource("CapsuleShape3D_ki8gd")

[node name="little_guy" parent="Agent" instance=ExtResource("4_mij7i")]

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Agent"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_av4e2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0)
mesh = SubResource("PlaneMesh_wambb")
skeleton = NodePath("../..")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="NavigationRegion3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/NavigationObstacle3D"]
transform = Transform3D(0.817788, 0, -0.575519, 0, 1, 0, 0.575519, 0, 0.817788, 2.00375, -4.76837e-07, 1.10703)
mesh = SubResource("BoxMesh_0jipx")
surface_material_override/0 = SubResource("StandardMaterial3D_8m8ew")

[node name="NavigationObstacle3D2" type="NavigationObstacle3D" parent="NavigationRegion3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/NavigationObstacle3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.76915, 0.411005, -1.1433)
mesh = SubResource("BoxMesh_0jipx")
skeleton = NodePath("../../NavigationObstacle3D2")
surface_material_override/0 = SubResource("StandardMaterial3D_jqbs5")
